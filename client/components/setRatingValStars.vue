<template>
	<div>
        <div class="ratingIndex">
            <div class="ratingStar-box" :activeBox="activeBox">
                <div class="ratingStar" :class="{active:i.active}" v-for="(i, index) in stars" :key="i.index">
                    <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path class="star pointer" @click="getRating(i)" d="M8.76322 1.36288C9.01177 0.879041 9.73051 0.879041 9.97905 1.36288L11.8946 5.09186L16.1637 5.70312C16.7162 5.78223 16.9374 6.43281 16.54 6.80954L13.4542 9.73442L14.1721 13.8487C14.2647 14.3796 13.6841 14.7826 13.1879 14.5319L9.37114 12.6037L5.55436 14.5319C5.05819 14.7826 4.47757 14.3796 4.57019 13.8487L5.28808 9.73442L2.20228 6.80954C1.80483 6.43281 2.02607 5.78223 2.57853 5.70312L6.84767 5.09186L8.76322 1.36288Z"/>
                        <path class="pointer" @click="getRating(i)" d="M11.8946 5.09186L11.0051 5.54879L11.2413 6.00851L11.7529 6.08176L11.8946 5.09186ZM13.4542 9.73442L12.7663 9.00865L12.3768 9.37775L12.4691 9.90631L13.4542 9.73442ZM9.37114 12.6037L9.82206 11.7111L9.37114 11.4833L8.92021 11.7111L9.37114 12.6037ZM5.28808 9.73442L6.2732 9.90631L6.36543 9.37775L5.97601 9.00865L5.28808 9.73442ZM6.84767 5.09186L6.98941 6.08176L7.50102 6.00851L7.73717 5.54879L6.84767 5.09186ZM2.20228 6.80954L1.51435 7.53531H1.51435L2.20228 6.80954ZM2.57853 5.70312L2.43679 4.71322L2.57853 5.70312ZM5.55436 14.5319L5.10343 13.6394L5.55436 14.5319ZM4.57019 13.8487L5.5553 14.0206L4.57019 13.8487ZM14.1721 13.8487L13.187 14.0206L14.1721 13.8487ZM13.1879 14.5319L12.737 15.4245L13.1879 14.5319ZM16.1637 5.70312L16.022 6.69303L16.1637 5.70312ZM16.54 6.80954L17.2279 7.53531L16.54 6.80954ZM9.97905 1.36288L9.08955 1.81981V1.81981L9.97905 1.36288ZM8.76322 1.36288L9.65272 1.81981V1.81981L8.76322 1.36288ZM9.08955 1.81981L11.0051 5.54879L12.7841 4.63492L10.8686 0.905946L9.08955 1.81981ZM11.7529 6.08176L16.022 6.69303L16.3055 4.71322L12.0363 4.10195L11.7529 6.08176ZM15.8521 6.08376L12.7663 9.00865L14.1421 10.4602L17.2279 7.53531L15.8521 6.08376ZM12.4691 9.90631L13.187 14.0206L15.1572 13.6769L14.4393 9.56253L12.4691 9.90631ZM13.6388 13.6394L9.82206 11.7111L8.92021 13.4962L12.737 15.4245L13.6388 13.6394ZM8.92021 11.7111L5.10343 13.6394L6.00529 15.4245L9.82206 13.4962L8.92021 11.7111ZM5.5553 14.0206L6.2732 9.90631L4.30297 9.56253L3.58507 13.6769L5.5553 14.0206ZM5.97601 9.00865L2.89021 6.08376L1.51435 7.53531L4.60015 10.4602L5.97601 9.00865ZM2.72027 6.69303L6.98941 6.08176L6.70593 4.10195L2.43679 4.71322L2.72027 6.69303ZM7.73717 5.54879L9.65272 1.81981L7.87372 0.905946L5.95817 4.63492L7.73717 5.54879ZM2.89021 6.08376C2.99308 6.18127 3.02379 6.34068 2.98094 6.46667C2.93922 6.58938 2.83124 6.67714 2.72027 6.69303L2.43679 4.71322C1.11614 4.90231 0.466626 6.54222 1.51435 7.53531L2.89021 6.08376ZM5.10343 13.6394C5.2082 13.5865 5.32972 13.605 5.41173 13.6619C5.49648 13.7208 5.58384 13.8571 5.5553 14.0206L3.58507 13.6769C3.3353 15.1083 4.85785 16.0042 6.00529 15.4245L5.10343 13.6394ZM13.187 14.0206C13.1584 13.8571 13.2458 13.7208 13.3305 13.6619C13.4126 13.605 13.5341 13.5865 13.6388 13.6394L12.737 15.4245C13.8844 16.0042 15.407 15.1083 15.1572 13.6769L13.187 14.0206ZM16.022 6.69303C15.911 6.67714 15.8031 6.58938 15.7613 6.46667C15.7185 6.34068 15.7492 6.18127 15.8521 6.08376L17.2279 7.53531C18.2756 6.54222 17.6261 4.90231 16.3055 4.71322L16.022 6.69303ZM10.8686 0.905946C10.248 -0.301982 8.49423 -0.301982 7.87372 0.905946L9.65272 1.81981C9.58448 1.95266 9.45531 2 9.37114 2C9.28696 2 9.15779 1.95266 9.08955 1.81981L10.8686 0.905946Z" fill="#F64156"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
	export default {
        data() {
            return {
                stars: [
                    {active: false},
                    {active: false},
                    {active: false},
                    {active: false},
                    {active: false}
                ],
                activeBox: false,
                result: 0
            }
        },
        mounted() {
        },
        methods: {
            getRating(value) {
                this.activeBox = true
                this.result = this.stars.indexOf(value) + 1;
                this.stars.forEach(item => {
                    item.active = false;
                });
                value.active = true;
                this.$emit('rating', {
                    rating: this.result
                })
            }
        }
	}
</script>

<style>
    .pointer {
       cursor: pointer;   
    }
    .ratingStar-box {
        display: inline-block;
    }
    .ratingStar {
        display: inline-block;
        padding-right: 12px;
    }
    .ratingStar:last-child {
        padding-right: 0;
    }
    [activeBox~=true] .star {
        fill: #FF0000;
    }
    .ratingStar-box .ratingStar.active ~ .ratingStar .star {
        fill: transparent;
    }
    div .ratingIndex .ratingStar-box:hover .ratingStar .star {
       fill: #FF0000;
    }
    .ratingIndex .ratingStar-box .ratingStar:hover ~ .ratingStar .star {
        fill: transparent;
    }
</style>